{"ast":null,"code":"import _toConsumableArray from \"/Users/sandeepgupta/Desktop/CS 252 code/lab6/meet-the-others/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/sandeepgupta/Desktop/CS 252 code/lab6/meet-the-others/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sandeepgupta/Desktop/CS 252 code/lab6/meet-the-others/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sandeepgupta/Desktop/CS 252 code/lab6/meet-the-others/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sandeepgupta/Desktop/CS 252 code/lab6/meet-the-others/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sandeepgupta/Desktop/CS 252 code/lab6/meet-the-others/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/sandeepgupta/Desktop/CS 252 code/lab6/meet-the-others/src/Chat.js\";\nimport React, { Component } from 'react';\nimport ChatHeader from './ChatHeader';\nimport MessageList from './MessageList';\nimport MessageForm from './MessageForm';\n\nvar Chat =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Chat, _Component);\n\n  function Chat() {\n    var _this;\n\n    _classCallCheck(this, Chat);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Chat).call(this));\n\n    _this.addMessage = function (body) {\n      var messages = _toConsumableArray(_this.state.messages); //const user = this.props.user\n\n\n      messages.push({\n        //id: `${user.uid}-${Date.now()}`,\n        //user,\n        body: body,\n        createdAt: Date.now()\n      });\n\n      _this.setState({\n        messages: messages\n      });\n    };\n\n    _this.state = {\n      messages: []\n    };\n    return _this;\n  } //   componentDidMount() {\n  //     this.syncMessages()\n  //   }\n  //   componentDidUpdate(prevProps, _prevState, _snapshot){\n  //     if(prevProps.room.name !== this.props.name){\n  //       this.syncMessages()\n  //     }\n  //   }\n  //   componentWillUnmount() {\n  //     base.removeBinding(this.messagesRef)\n  //   }\n  //   syncMessages = () => {\n  //     //Stop syncing with the current endpoint\n  //     if(this.messagesRef){\n  //       base.removeBinding(this.messagesRef)\n  //     }\n  //     this.messagesRef = base.syncState(\n  //       `messages/${this.props.room.name}`,\n  //       {\n  //         context: this,\n  //         state: 'messages',\n  //         asArray: true,\n  //       }\n  //     )\n  //   }\n\n\n  _createClass(Chat, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Chat\",\n        style: styles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(MessageList, {\n        messages: this.state.messages //room={this.props.room}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(MessageForm, {\n        addMessage: this.addMessage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Chat;\n}(Component);\n\nvar styles = {\n  flex: 1,\n  display: 'flex',\n  flexDirection: 'column'\n};\nexport default Chat;","map":{"version":3,"sources":["/Users/sandeepgupta/Desktop/CS 252 code/lab6/meet-the-others/src/Chat.js"],"names":["React","Component","ChatHeader","MessageList","MessageForm","Chat","addMessage","body","messages","state","push","createdAt","Date","now","setState","styles","flex","display","flexDirection"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAEMC,I;;;;;AACJ,kBAAc;AAAA;;AAAA;;AACZ;;AADY,UAqCdC,UArCc,GAqCD,UAACC,IAAD,EAAU;AACrB,UAAMC,QAAQ,sBAAO,MAAKC,KAAL,CAAWD,QAAlB,CAAd,CADqB,CAErB;;;AAEAA,MAAAA,QAAQ,CAACE,IAAT,CAAc;AACZ;AACA;AACAH,QAAAA,IAAI,EAAJA,IAHY;AAIZI,QAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL;AAJC,OAAd;;AAOA,YAAKC,QAAL,CAAc;AAAEN,QAAAA,QAAQ,EAARA;AAAF,OAAd;AACD,KAjDa;;AAGZ,UAAKC,KAAL,GAAa;AACXD,MAAAA,QAAQ,EAAE;AADC,KAAb;AAHY;AAMb,G,CAEH;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;6BAgBW;AACP,aACE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,KAAK,EAAEO,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,WAAD;AACE,QAAA,QAAQ,EAAE,KAAKN,KAAL,CAAWD,QADvB,CAEE;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,EAQE,oBAAC,WAAD;AAAa,QAAA,UAAU,EAAE,KAAKF,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,CADF;AAYD;;;;EAjEgBL,S;;AAoEnB,IAAMc,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAE,CADO;AAEbC,EAAAA,OAAO,EAAE,MAFI;AAGbC,EAAAA,aAAa,EAAE;AAHF,CAAf;AAMA,eAAeb,IAAf","sourcesContent":["import React, { Component } from 'react'\n\nimport ChatHeader from './ChatHeader'\nimport MessageList from './MessageList'\nimport MessageForm from './MessageForm'\n\nclass Chat extends Component {\n  constructor() {\n    super()\n\n    this.state = {\n      messages: [],\n    }\n  }\n\n//   componentDidMount() {\n//     this.syncMessages()\n//   }\n\n//   componentDidUpdate(prevProps, _prevState, _snapshot){\n//     if(prevProps.room.name !== this.props.name){\n//       this.syncMessages()\n//     }\n//   }\n\n//   componentWillUnmount() {\n//     base.removeBinding(this.messagesRef)\n//   }\n\n//   syncMessages = () => {\n//     //Stop syncing with the current endpoint\n//     if(this.messagesRef){\n//       base.removeBinding(this.messagesRef)\n//     }\n//     this.messagesRef = base.syncState(\n//       `messages/${this.props.room.name}`,\n//       {\n//         context: this,\n//         state: 'messages',\n//         asArray: true,\n//       }\n//     )\n//   }\n\n  addMessage = (body) => {\n    const messages = [...this.state.messages]\n    //const user = this.props.user\n\n    messages.push({\n      //id: `${user.uid}-${Date.now()}`,\n      //user,\n      body,\n      createdAt: Date.now(),\n    })\n\n    this.setState({ messages })\n  }\n\n  render() {\n    return (\n      <div className=\"Chat\" style={styles}>\n        {/* <ChatHeader\n          room={this.props.room}\n        /> */}\n        <MessageList\n          messages={this.state.messages}\n          //room={this.props.room}\n        />\n        <MessageForm addMessage={this.addMessage} />\n      </div>\n    )\n  }\n}\n\nconst styles = {\n  flex: 1,\n  display: 'flex',\n  flexDirection: 'column',\n}\n\nexport default Chat"]},"metadata":{},"sourceType":"module"}