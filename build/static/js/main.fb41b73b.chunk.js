(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){},117:function(e,t,a){e.exports=a(229)},198:function(e,t,a){},199:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),i=a(18),s=a.n(i),l=a(109),c=a.n(l),d=(a(198),a(110)),u=a(19),m=a(21),h=a(22),p=a(24),b=a(23),g=a(25),f=a(14),v=(a(104),a(105),a(199),a(3)),w=(a(207),a(30)),E=a(28),x=a(111),y=a.n(x),O=s.a.initializeApp({apiKey:"AIzaSyAgQHIEDXjJaeiJZKbMuxTchYaFLTehH1g",authDomain:"meet-the-others.firebaseapp.com",databaseURL:"https://meet-the-others.firebaseio.com",projectId:"meet-the-others",storageBucket:"meet-the-others.appspot.com",messagingSenderId:"313507434165"}),j=s.a.auth(),C=s.a.database(O),k=y.a.createClass(C),S={message:{display:"flex",marginTop:"1rem",padding:"0 1rem"},details:{flex:1,paddingLeft:"0.5rem"}},N=function(e){var t=e.message;return o.a.createElement("div",{className:"Message",style:S.message},o.a.createElement("div",{style:S.details},o.a.createElement("div",{className:"body"},t.body)))},F=(r.Component,{messageList:{color:"white",flex:1,paddingBottom:"1rem",overflowY:"scroll"},roomAnnouncement:{padding:"2px 1px"},h3:{fontSize:"1.5rem"}}),I=(a(107),r.Component,v.a.create({messageForm:(n={backgroundColor:"white",height:"3rem",display:"flex",alignItems:"stretch",border:"2px solid #999",borderRadius:"0.5rem",margin:"0.25rem",padding:0,position:"fixed",left:"0px",bottom:"0px"},Object(u.a)(n,"height","30px"),Object(u.a)(n,"width","100%"),Object(u.a)(n,"background","#999"),n),icon:{display:"flex",borderRadius:"0.5rem",alignItems:"center",backgroundColor:"white",color:"#ccc",padding:"0 0.5rem",fontSize:"1.2rem"},input:{flex:1,fontSize:"1.2rem",border:0,":focus":{outline:0}},button:{fontSize:"1.5rem",backgroundColor:"#1A8FE3",color:"white",paddingLeft:"1rem",paddingRight:"1rem",borderTopRightRadius:"0.5rem",borderBottomRightRadius:"0.5rem",border:"1px solid white"}})),B=a(112),U=a.n(B),A=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(p.a)(this,Object(b.a)(t).call(this))).state={textBox:"",messages:[]},e.handleChange=e.handleChange.bind(Object(f.a)(Object(f.a)(e))),e.handleSubmit=e.handleSubmit.bind(Object(f.a)(Object(f.a)(e))),e}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=j.currentUser;t?this.setState({user:t,room:t.photoURL}):(window.alert("Sign in error occured. Please sign in again."),window.location=window.location.protocol+"//"+window.location.host),C.ref("messages").orderByValue().on("value",function(t){var a=t.val(),n=[];for(var r in a)n.push(a[r]);e.setState({messages:n})})}},{key:"handleChange",value:function(e){this.setState({textBox:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.textBox&&this.sendMessage()}},{key:"sendMessage",value:function(){C.ref("messages/"+U.a.generate()).set({user:this.state.user.email,time:(new Date).toISOString(),text:this.state.textBox,room:this.state.room})}},{key:"renderMessages",value:function(){return this.state.messages.map(function(e){return o.a.createElement("li",null,e.time+" "+e.user+": "+e.text)})}},{key:"render",value:function(){return o.a.createElement("div",{style:{backgroundColor:"white"}},o.a.createElement("ul",null,this.renderMessages()),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("input",{type:"text",onChange:this.handleChange}),o.a.createElement("input",{type:"submit",value:"send"})))}}]),t}(r.Component);a(113);a(228),s.a.database();var M=new Map([["nature",["farms","parks","nature trails","exercising","beaches","hikes","biking","running","outdoor games (i.e. hide and seek, tag, etc.)","outdoor sports (i.e. football, basketball, etc.)","road trips"]],["city",["shopping","clubs","bars","lounges","restaurants","museums","concerts"]],["indoors",["movies/TV shows","board games","watching random videos","forums","sleeping","reading","cooking","personal projects","Conversation Games (i.e. Never Have I ever, Truth or Dare)"]]]),R=M.get("nature").concat(M.get("city")).concat(M.get("indoors")),D=["first","second","third","fourth","fifth"];function z(){var e,t=[document.getElementById("first").value,document.getElementById("second").value,document.getElementById("third").value,document.getElementById("fourth").value,document.getElementById("fifth").value],a=0,n=0,r=0;console.log(M.get("nature"));for(var o=0;o<t.length;o++)M.get("nature").indexOf(t[o])>=0?a++:M.get("city").indexOf(t[o])>=0?n++:r++;if(a>=3)e="nature";else if(n>=3)e="city";else if(r>=3)e="indoors";else{var i=Math.floor(2*Math.random());if(n===a&&n>=r)e=0===i?"city":"nature";else if(n===r&&n>=a)e=0===i?"city":"indoors";else if(a===r&&a>=n)e=0===i?"nature":"indoors";else{var s=Math.floor(3*Math.random());e=0===s?"nature":1==s?"indoors":"city"}}return e}var L={password:"",username:"",password2:"",username2:"",first:"",second:"",third:"",fourth:"",fifth:"",errorMessage:null},P=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(b.a)(t).call(this,e))).signedIn=function(){return a.state.user.uid},a.handleChange=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.handleSignIn=function(e){e.preventDefault(),j.signInWithEmailAndPassword(a.state.username2,a.state.password2).catch(function(e){window.alert(e),a.setState({errorMessage:"Invalid signin"})}).then(function(e){console.log("signed in"),console.log(j.currentUser),a.props.history.push("Chat")})},a.getData=function(e){var t=k.auth().currentUser.uid;return k.database().ref("/users/"+t).once("value").then(function(e){})},a.handleSignUp=function(e){e.preventDefault(),j.createUserWithEmailAndPassword(a.state.username,a.state.password).catch(function(e){return a.setState({errorMessage:"Invalid Signup"})}).then(function(){j.signInWithEmailAndPassword(a.state.username,a.state.password).catch(function(e){console.log(e)}).then(function(){j.currentUser.updateProfile({photoURL:z()}).catch(function(e){console.log(e)}).then(function(e){a.props.history.push("Chat")})})})},a.handleUsername=function(e){a.setState(Object(u.a)({},e.target.id,e.target.value))},a.handlePassword=function(e){a.setState(Object(u.a)({},e.target.id,e.target.value))},a.handleChange=a.handleChange.bind(Object(f.a)(Object(f.a)(a))),a.state=Object(d.a)({},L),a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"renderOptions",value:function(){return R.map(function(e){return o.a.createElement("option",{key:e,value:e},e)})}},{key:"renderSelects",value:function(){var e=this;return D.map(function(t){return o.a.createElement("div",{key:t},o.a.createElement("label",{htmlFor:t,className:Object(v.b)(V.label)},t),o.a.createElement("select",{id:t,className:Object(v.b)(V.input)},o.a.createElement("option",{defaultValue:!0,disabled:!0},"Please select an option: "),e.renderOptions()))})}},{key:"componentWillMount",value:function(){var e=this;j.onAuthStateChanged(function(t){t?e.setState({authenticated:!0,currentUser:t,loading:!1}):e.setState({authenticated:!1,currentUser:null,loading:!1})})}},{key:"render",value:function(){var e=this,t=this.state;t.first,t.second,t.third,t.fourth,t.fifth,t.password,t.username,t.errorMessage;return o.a.createElement("div",{className:Object(v.b)(V.body)},o.a.createElement("div",{className:Object(v.b)(V.containBlocks)},o.a.createElement("p",{className:Object(v.b)(V.FadeAnimations2)},"New User? Start here!"),o.a.createElement("p",{className:Object(v.b)(V.FadeAnimations2)},"Already have an account? Login here!")),o.a.createElement("div",{className:Object(v.b)(V.containBlocks)},o.a.createElement("div",{className:Object(v.b)(V.blocks)},o.a.createElement("form",{onSubmit:function(t){return e.handleSignUp(t)}},o.a.createElement("p",{className:Object(v.b)(V.label)}," What do you like to do in the weekend?"),o.a.createElement("label",{htmlFor:"fname",className:Object(v.b)(V.label)},"Choose a username!"),o.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"Username",className:Object(v.b)(V.input),onChange:this.handleUsername}),o.a.createElement("label",{htmlFor:"password",className:Object(v.b)(V.label)},"Create a password!"),o.a.createElement("input",{type:"password",className:Object(v.b)(V.input),onChange:this.handlePassword,id:"password",name:"password",placeholder:"password"}),o.a.createElement("label",{htmlFor:"first",className:Object(v.b)(V.label)},"First"),o.a.createElement("select",{id:"first",className:Object(v.b)(V.input),defaultValue:"concerts",onChange:this.handleChange},R.map(function(e){return o.a.createElement("option",{value:e},e)})),o.a.createElement("label",{htmlFor:"second",className:Object(v.b)(V.label)},"Second"),o.a.createElement("select",{id:"second",className:Object(v.b)(V.input),defaultValue:"biking",onChange:this.handleChange},R.map(function(e){return o.a.createElement("option",{value:e},e)})),o.a.createElement("label",{htmlFor:"third",className:Object(v.b)(V.label)},"Third"),o.a.createElement("select",{id:"third",className:Object(v.b)(V.input),defaultValue:"lounges",onChange:this.handleChange},R.map(function(e){return o.a.createElement("option",{value:e},e)})),o.a.createElement("label",{htmlFor:"fourth",className:Object(v.b)(V.label)},"Fourth"),o.a.createElement("select",{id:"fourth",className:Object(v.b)(V.input),defaultValue:"running",onChange:this.handleChange},R.map(function(e){return o.a.createElement("option",{value:e},e)})),o.a.createElement("label",{htmlFor:"fifth",className:Object(v.b)(V.label)},"Fifth"),o.a.createElement("select",{id:"fifth",className:Object(v.b)(V.input),defaultValue:"museums",onChange:this.handleChange},R.map(function(e){return o.a.createElement("option",{value:e},e)})),o.a.createElement("input",{type:"submit",value:"Submit"}),o.a.createElement(E.a,null,o.a.createElement("div",null)))),o.a.createElement("div",{className:Object(v.b)(V.blocks)},o.a.createElement("form",{onSubmit:function(t){return e.handleSignIn(t)}},o.a.createElement("label",{htmlFor:"username",className:Object(v.b)(V.label)},"Username",o.a.createElement("input",{type:"text",id:"username2",placeholder:"Username",className:Object(v.b)(V.input),value:this.state.username2,onChange:this.handleUsername})),o.a.createElement("label",{htmlFor:"password",className:Object(v.b)(V.label)},"Password",o.a.createElement("input",{type:"password",id:"password2",placeholder:"Password",className:Object(v.b)(V.input),value:this.state.password2,onChange:this.handlePassword})),o.a.createElement("input",{type:"submit",value:"Sign in"})))))}}]),t}(r.Component),V=v.a.create({html:{backgroundColor:"black",overflow:"hidden"},body:{overflow:"hidden"},FadeAnimations:{animationName:"fadein",animationDuration:"3s",textAlign:"center",color:"white",fontSize:"80px",width:"100%",padding:"10px"},FadeAnimations2:{animationName:"fadein",animationDuration:"5s",textAlign:"center",color:"#4c3a1f",fontSize:"30px",paddingLeft:"20px",paddingRight:"20px",width:"40%"},blocks:{animationName:"fadein",animationDuration:"3s",display:"inline-block",textAlign:"center",color:"white",fontSize:"30px",width:"40%",height:"20%",overflow:"auto",paddingLeft:"20px",paddingRight:"20px",borderRadius:"5px",backgroundColor:"rgba(0,0,0,0.5)"},containBlocks:{display:"flex",paddingLeft:"30px",paddingRight:"30px",paddingBottom:"30px",justifyContent:"space-between",position:"relative"},div:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",margin:"auto"},input:{width:"100%",padding:"20px",margin:"8px 0",display:"inline-block",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"},button:{width:"100%",backgroundColor:"#4CAF50",color:"white",padding:"10px",margin:"8px 0",border:"none",borderRadius:"4px",cursor:"pointer"},label:{color:"#C0C0C0",fontSize:"30px",padding:"20px"}}),T=Object(w.e)(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(8),J=Object(W.a)(),H={};c.a.render(o.a.createElement(E.a,{history:J},o.a.createElement("div",null,o.a.createElement(w.b,{exact:!0,path:"/",render:function(e){return o.a.createElement(T,{history:J,data:H})}}),o.a.createElement(w.b,{exact:!0,path:"/Chat",render:function(e){return o.a.createElement(A,{history:J,data:H})}}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[117,1,2]]]);
//# sourceMappingURL=main.fb41b73b.chunk.js.map